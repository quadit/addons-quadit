<?xml version='1.0' encoding='utf-8'?>
<openerp>
    <data>

        <record model="ir.sequence.type" id="seq_type_prod_id">
            <field name="name">Internal Moves Number</field>
            <field name="code">stock.picking.internal</field>
        </record>

        <record model="ir.sequence" id="seq_move_prod_id">
            <field name="name">Internal Moves Number</field>
            <field name="code">stock.picking.internal</field>
            <field name="prefix">INTERNAL</field>
            <field name="padding">4</field>
        </record>

        <record model='ir.ui.view' id='view_stock_picking_internal_form'>
            <field name='name'>view.stock.picking.internal.form</field>
            <field name='model'>stock.picking.internal</field>
            <field name='arch' type='xml'>
            <form string='Internal Pickings'>
                <header>
                    <button name="action_create_pickings" states="draft" string="Create Pickings" type="object" icon="gtk-print" class="oe_highlight"/>
                    <button name="action_cancelled" states="draft" string="Cancel" type="object"/>
                    <button name="compute_lines" states="draft" string="Load" type="object" attrs="{'invisible': [('line_default', '=', True)]}"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,done,cancel" />
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1>Internal Moves <field name="name" class="oe_inline" readonly="1"/></h1>
                    </div>
                    <group col='4'>
                        <field name='date'/>
                        <field name='picking_type_id' domain="[('code', '=', 'internal')]"/>
                        <field name='location_id' domain="[('usage', '=', 'internal')]"/>
                        <field name='location_dest_id' domain="[('usage', '=', 'internal')]"/>
                        <field name='line_default' invisible="1"/>
                    </group>
                    <notebook>
                        <page string='Products'>
                            <field name='line_ids'>
                                <tree string='Products' editable='bottom'>
                                    <field name='product_id' domain="[('type', '=', 'product')]"/>
                                    <field name='box'/>
                                    <field name='paperboard'/>
                                    <field name='egg' string="Unidades" />
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
            </field>
        </record>

        <record model='ir.ui.view' id='view_stock_picking_internal_tree'>
            <field name='name'>view.stock.picking.internal.tree</field>
            <field name='model'>stock.picking.internal</field>
            <field name='arch' type='xml'>
                <tree string='Internal Pickings'>
                    <field name='name'/>
                    <field name='date'/>
                    <field name='location_id'/>
                    <field name='location_dest_id'/>
                    <field name='state'/>
                </tree>
            </field>
        </record>

        <record model='ir.ui.view' id='view_stock_picking_int_tree'>
            <field name='name'>view.stock.picking.int.tree</field>
            <field name='model'>stock.picking.internal</field>
            <field name='arch' type='xml'>
                <tree string='Internal Pickings'>
                    <field name='location_id'/>
                    <field name='location_dest_id'/>
                </tree>
            </field>
        </record>

        <record model='ir.actions.act_window' id='stock_picking_int_action'>
            <field name='name'>Internal Picking</field>
            <field name='res_model'>stock.picking.internal</field>
            <field name='view_type'>form</field>
            <field name='view_mode'>tree,form</field>
            <field name='view_id' ref='view_stock_picking_internal_tree'/>
        </record>

        <menuitem action="stock_picking_int_action" id="menu_stock_picking_int" parent="stock.menu_stock_warehouse_mgmt" sequence="3"/>

    </data>
</openerp>
